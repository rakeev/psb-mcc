var code = "var%20codes%3D%7Bfuel%3A%5B5172%2C5541%2C5542%2C5983%5D%2Cavia%3A%5B%223000-3299%22%2C4112%2C4411%2C4511%5D%2Cgroc%3A%5B5411%2C5422%2C5441%2C5451%2C5462%2C5499%2C%225811-5814%22%2C5921%5D%2Cgarm%3A%5B5094%2C5137%2C5139%2C5331%2C5611%2C5621%2C5631%2C5641%2C5651%2C5661%2C5681%2C5691%2C%225697-5699%22%2C5931%2C5944%2C5949%2C5950%2C7296%5D%2Chome%3A%5B1520%2C1711%2C1731%2C1740%2C1750%2C1761%2C1771%2C1799%2C2791%2C2842%2C5021%2C5039%2C5046%2C5051%2C5065%2C5072%2C5074%2C5085%2C5198%2C5200%2C5211%2C5231%2C5251%2C5261%2C%225712-5714%22%2C5718%2C5719%2C5722%2C7622%2C7623%2C7629%2C7631%2C7641%2C7692%2C7699%5D%7D%2CisBonus%3Dfunction(a%2Ct)%7Breturn%20%24.grep(codes%5Bt%5D%2Cfunction(t)%7Bvar%20n%3D(t%2B%22%22).split(%22-%22)%3Breturn%20n.length%3E1%3Fa%3E%3Dn%5B0%5D%26%26a%3C%3Dn%5B1%5D%3At%3D%3Da%7D).length%3E0%7D%2CupdateLayout%3Dfunction(a)%7B%24.each(a.data.Transactions%2Cfunction(a%2Ct)%7Bvar%20n%3Dt.Data.match(%2F%5B0-9%5D%7B6%7D%5C.%5C.(%5B0-9%5D%7B4%7D)%2F)%2Ce%3D%24(%22*%5Bdata-id%3D%22%2Bt.Id%2B%22%5D%22)%3Breturn%20n%26%26t.Mcc%3F(%24.each(conf%2Cfunction(a%2Co)%7Bvar%20d%3Da%3D%3Dn%5B1%5D%7C%7C%22_%22%3D%3Da%3Bif(!d%7C%7C!isBonus(t.Mcc%2Co))return!0%3Bvar%20i%3De.find(%22td%5Bdata-amount%5D%22)%2Cr%3DMath.abs(.05*i.data(%22amount%22)).toFixed(2)%3Bi.prepend('%3Cb%20style%3D%22color%3A%20green%22%20title%3D%22~'%2Br%2B'%22%3E%2B5%25%3C%2Fb%3E%20')%7D)%2Cvoid%20e.find(%22td%5Bdata-category%5D%20.data%22).prepend(%22%3Cb%3E%22%2Bt.Mcc%2B%22%3C%2Fb%3E%20%22))%3A!0%7D)%7D%3BupdateLayout(window.transactionsPage)%2CMeniga.EventBus.bind(Meniga.Transactions.Events.TransactionsListLoaded%2CupdateLayout)%3B";
function bindEvent(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function toggleBmark(e){for(var t={},n=tab.querySelectorAll("tr"),a=1;a<n.length;a++){var l=n[a].querySelector("input"),o=l.value||"_";t[o]=n[a].querySelector("select").value,l.className=e&&!/^[0-9]{4}$/.test(o)?"err":""}link.href="javascript:(function(conf){"+code+"})("+JSON.stringify(t)+");void(0)"}var tab=document.getElementById("cards"),link=document.getElementById("bmark");bindEvent(document.getElementById("extmode"),"click",function(){for(var e=document.querySelectorAll(".togl"),t=0;t<e.length;t++)e[t].style.display="none"===e[t].style.display?"":"none"}),bindEvent(document.getElementById("addcard"),"click",function(){var e=tab.querySelector("tr:last-child"),t=e.cloneNode(!0),n=t.querySelector("input");n.value="",n.className="",e.parentNode.appendChild(t)}),toggleBmark(),bindEvent(tab,"change",toggleBmark),function(e,t,n,a,l,o,c){e.GoogleAnalyticsObject=l,e[l]=e[l]||function(){(e[l].q=e[l].q||[]).push(arguments)},e[l].l=1*new Date,o=t.createElement(n),c=t.getElementsByTagName(n)[0],o.async=1,o.src=a,c.parentNode.insertBefore(o,c)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-59229421-1","auto"),ga("send","pageview"),bindEvent(link,"dragend",function(){ga("send","event","button","dragend","bookmarklet")});